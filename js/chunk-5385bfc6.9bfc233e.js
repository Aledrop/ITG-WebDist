(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5385bfc6"],{"0f76":function(e,t,a){"use strict";a("24d7")},"24d7":function(e,t,a){},"2de3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"container py-6 px-2"},[a("div",{staticClass:"flex flex-1 flex-col w-full border shadow rounded-lg bg-white text-left py-4 p-8"},[a("div",{staticClass:"grid grid-cols-admin h-10 border-b-2 mb-2"},[a("h2",{staticClass:"text-2xl "},[e._v(e._s(e.title))]),a("div",[a("button",{directives:[{name:"show",rawName:"v-show",value:e.crudvisible,expression:"crudvisible"}],staticClass:"w-full text-center",on:{click:e.showTable}},[a("i",{staticClass:"fa fa-arrow-left"})]),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.crudvisible,expression:"!crudvisible"}],staticClass:"w-full text-center",on:{click:e.createRow}},[a("i",{staticClass:"fa fa-plus text-green-400"})])])]),e.crudvisible?e._e():a("admin-table",{attrs:{rows:e.localData},on:{editData:e.editRow,deleteData:e.deleteRow}}),e.crudvisible?a("dashboard",{attrs:{menu:e.activeMenu,modeAction:e.mode,objId:e.formInfo}}):e._e()],1)])])},n=[],i=a("0418"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"flex justify-end items-center"},[e.isAdmin?a("button",{staticClass:"inline-flex border border-transparent bg-red rounded-md font-semibold text-xs uppercase text-white px-4 py-2 mr-auto",on:{click:e.deleteRows}},[a("i",{staticClass:"fa fa-trash mx-1"})]):e._e(),a("label",{attrs:{for:"filter"}},[e._v("Filtro: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.alias.value,expression:"filters.alias.value"}],staticClass:"form-control border-b my-4 px-3 no-underline\n      focus:outline-none",attrs:{id:"filter"},domProps:{value:e.filters.alias.value},on:{input:function(t){t.target.composing||e.$set(e.filters.alias,"value",t.target.value)}}})]),a("v-table",{attrs:{data:e.rows,filters:e.filters,currentPage:e.currentPage,pageSize:25},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},totalPagesChanged:function(t){e.totalPages=t}},scopedSlots:e._u([{key:"body",fn:function(t){var r=t.displayData;return a("tbody",{},e._l(r,(function(t,r){return a("tr",{key:t.id,class:{"bg-row":r%2>0}},[e.isAdmin?a("td",[a("input",{attrs:{type:"checkbox"},domProps:{value:t.id,checked:e.all},on:{click:function(a){return e.getitemToDelete(t.id,a)}}})]):e._e(),e._l(e.columns,(function(r,n){return a("td",{key:n},["boolean"==typeof t[r]&&t[r]?a("span",{staticClass:"text-green"},[a("i",{staticClass:"fas fa-check"})]):e._e(),"boolean"!=typeof t[r]||t[r]?e._e():a("span",{staticClass:"text-red"},[a("i",{staticClass:"fas fa-minus-circle"})]),"boolean"!=typeof t[r]?a("span",[e._v(e._s(t[r]))]):e._e()])})),a("td",[a("button",{staticClass:"ui small button",on:{click:function(a){return e.edit(t)}}},[a("i",{staticClass:"fa fa-edit text-indigo-700 hover:opacity-50 m-2"})]),a("button",{staticClass:"ui small button",on:{click:function(a){return e.deleteRow(t.id)}}},[a("i",{staticClass:"fa fa-trash text-red-600 hover:opacity-50 m-2"})])])],2)})),0)}}])},[a("thead",{staticClass:"uppercase text-white",attrs:{slot:"head"},slot:"head"},[e.isAdmin?a("th",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.all,expression:"all"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.all)?e._i(e.all,null)>-1:e.all},on:{click:e.clearSelection,change:function(t){var a=e.all,r=t.target,n=!!r.checked;if(Array.isArray(a)){var i=null,c=e._i(a,i);r.checked?c<0&&(e.all=a.concat([i])):c>-1&&(e.all=a.slice(0,c).concat(a.slice(c+1)))}else e.all=n}}})]):e._e(),e._l(e.columns,(function(t,r){return a("th",{key:r},[e._v(e._s(t))])})),a("th",[e._v("actions")])],2)]),e.totalPages>0?a("smart-pagination",{attrs:{currentPage:e.currentPage,totalPages:e.totalPages},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}}):e._e()],1)},s=[],o=(a("b64b"),a("d81d"),a("c740"),a("860c")),u={props:{rows:[]},name:"AdminTable",data:function(){return{isAdmin:!1,columns:[],tableInfo:[],filters:{alias:{value:"",keys:["alias"]}},all:!1,items_id:[],currentPage:1,totalPages:0}},created:function(){this.isAdmin=o["a"].validateRole("ROLE_SuperAdmin"),this.initTable()},watch:{rows:function(){this.initTable()}},methods:{initTable:function(){void 0!=this.rows&&(this.columns=Object.keys(this.rows[0]),"id"==this.columns[0]&&this.columns.shift())},edit:function(e){this.$emit("editData",e)},clearSelection:function(){var e=this;this.all?this.items_id=[]:this.rows.map((function(t){e.items_id.push(t.id)}))},getitemToDelete:function(e,t){var a=this;if(t.target.checked)-1==this.items_id.findIndex((function(t){return t==e}))&&this.items_id.push(e);else{var r=this.items_id;this.items_id=[],r.map((function(t){t!=e&&a.items_id.push(t)}))}},deleteRow:function(e){this.items_id=[e],this.deleteRows()},deleteRows:function(){this.$emit("deleteData",this.items_id)}}},l=u,d=a("2877"),f=Object(d["a"])(l,c,s,!1,null,"529957b3",null),h=f.exports,p=a("2df0"),m=a("31b3"),v=a("1da1"),g=a("b85c"),b=(a("96cf"),{getList:function(){try{return o["a"].checkLogin("/product-type").then((function(e){var t=[];if(200!=e.status)return{success:!1,errors:"Fail check login"};var a,r=Object(g["a"])(e.data);try{for(r.s();!(a=r.n()).done;){var n=a.value;t.push({id:n.id,alias:n.alias,active:!!n.active})}}catch(i){r.e(i)}finally{r.f()}return t}))}catch(e){console.log(e)}},getSimpleList:function(){try{return o["a"].checkLogin("/product-type").then((function(e){if(200==e.status){var t,a=[],r=Object(g["a"])(e.data);try{for(r.s();!(t=r.n()).done;){var n=t.value;a.push({value:n.id,text:n.alias})}}catch(i){r.e(i)}finally{r.f()}return a}}))}catch(e){return console.log(e),[]}},getCustomList:function(){try{return o["a"].checkLogin("/product-type").then((function(e){if(200==e.status){var t,a=[],r=Object(g["a"])(e.data);try{for(r.s();!(t=r.n()).done;){var n=t.value;1==n.active&&a.push({id:n.id,name:n.alias,class_name:n.class_name,agent_margin:n.travel_agent_margin})}}catch(i){r.e(i)}finally{r.f()}return a}}))}catch(e){return console.log(e),[]}},getProductType:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].checkLogin("/product-type/".concat(e));case 3:if(a=t.sent,r=a.status,n=a.data,200!=r){t.next=8;break}return t.abrupt("return",n);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},addUpdProductType:function(e){var t=arguments;return Object(v["a"])(regeneratorRuntime.mark((function a(){var r,n,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=!(t.length>1&&void 0!==t[1])||t[1],a.prev=1,e.auth="bearer",!r){a.next=9;break}return a.next=6,o["a"].checkLogin("/product-type/create",e,"post");case 6:a.t0=a.sent,a.next=12;break;case 9:return a.next=11,o["a"].checkLogin("/product-type/upd/".concat(e.id),e,"put");case 11:a.t0=a.sent;case 12:if(n=a.t0,i=n.status,c=n.data,200!=i){a.next=17;break}return a.abrupt("return",c);case 17:a.next=22;break;case 19:a.prev=19,a.t1=a["catch"](1),
//! Fail 
console.log(a.t1.response);case 22:return a.abrupt("return",!1);case 23:case"end":return a.stop()}}),a,null,[[1,19]])})))()},delete:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function a(){var r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={auth:"bearer",ids:e},a.prev=1,a.next=4,o["a"].checkLogin("/product-type/delete",r,"post");case 4:if(n=a.sent,i=n.status,n.data,200!=i){a.next=9;break}return a.abrupt("return",t.getList().then((function(e){return e})));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](1),
//! Fail 
console.log(a.t0.response);case 14:case"end":return a.stop()}}),a,null,[[1,11]])})))()}}),x=b,k=(a("b0c0"),{getList:function(){try{return o["a"].checkLogin("/currency").then((function(e){var t=[];if(200==e.status){var a,r=Object(g["a"])(e.data);try{for(r.s();!(a=r.n()).done;){var n=a.value;t.push({id:n.id,name:n.name,code:n.code,active:!!n.active})}}catch(i){r.e(i)}finally{r.f()}}return t}))}catch(e){console.log(e)}},getCurrency:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].checkLogin("/currency/".concat(e));case 3:if(a=t.sent,r=a.status,n=a.data,200!=r){t.next=8;break}return t.abrupt("return",n);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},addUpdCurrency:function(e){var t=arguments;return Object(v["a"])(regeneratorRuntime.mark((function a(){var r,n,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=!(t.length>1&&void 0!==t[1])||t[1],a.prev=1,e.auth="bearer",!r){a.next=9;break}return a.next=6,o["a"].checkLogin("/currency/create",e,"post");case 6:a.t0=a.sent,a.next=12;break;case 9:return a.next=11,o["a"].checkLogin("/currency/upd/".concat(e.id),e,"put");case 11:a.t0=a.sent;case 12:if(n=a.t0,i=n.status,c=n.data,200!=i){a.next=17;break}return a.abrupt("return",c);case 17:a.next=22;break;case 19:a.prev=19,a.t1=a["catch"](1),
//! Fail 
console.log(a.t1.response);case 22:return a.abrupt("return",!1);case 23:case"end":return a.stop()}}),a,null,[[1,19]])})))()},delete:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function a(){var r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={auth:"bearer",ids:e},a.prev=1,a.next=4,o["a"].checkLogin("/currency/delete",r,"post");case 4:if(n=a.sent,i=n.status,n.data,200!=i){a.next=9;break}return a.abrupt("return",t.getList().then((function(e){return e})));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](1),
//! Fail 
console.log(a.t0.response);case 14:case"end":return a.stop()}}),a,null,[[1,11]])})))()}}),w=k,y=(a("a4d3"),a("e01a"),{getList:function(){try{return o["a"].checkLogin("/texts").then((function(e){var t=[];if(200!=e.status)return{success:!1,errors:"Fail check login"};var a,r=Object(g["a"])(e.data);try{for(r.s();!(a=r.n()).done;){var n=a.value;t.push({id:n.id,keyword:n.keyword,description:n.description})}}catch(i){r.e(i)}finally{r.f()}return t}))}catch(e){console.log(e)}},getText:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].checkLogin("/text/".concat(e));case 3:if(a=t.sent,r=a.status,n=a.data,200!=r){t.next=8;break}return t.abrupt("return",n);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},addUpdText:function(e){var t=arguments;return Object(v["a"])(regeneratorRuntime.mark((function a(){var r,n,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=!(t.length>1&&void 0!==t[1])||t[1],a.prev=1,e.auth="bearer",!r){a.next=9;break}return a.next=6,o["a"].checkLogin("/text/create",e,"post");case 6:a.t0=a.sent,a.next=12;break;case 9:return a.next=11,o["a"].checkLogin("/text/upd/".concat(e.id),e,"put");case 11:a.t0=a.sent;case 12:if(n=a.t0,i=n.status,c=n.data,200!=i){a.next=17;break}return a.abrupt("return",c);case 17:a.next=22;break;case 19:a.prev=19,a.t1=a["catch"](1),
//! Fail 
console.log(a.t1.response);case 22:return a.abrupt("return",!1);case 23:case"end":return a.stop()}}),a,null,[[1,19]])})))()},delete:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function a(){var r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={auth:"bearer",ids:e},a.prev=1,a.next=4,o["a"].checkLogin("/texts/delete",r,"post");case 4:if(n=a.sent,i=n.status,n.data,200!=i){a.next=9;break}return a.abrupt("return",t.getList().then((function(e){return e})));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](1),
//! Fail 
console.log(a.t0.response);case 14:case"end":return a.stop()}}),a,null,[[1,11]])})))()}}),_=y,C=a("ca3e"),R=a("72f0"),L={ClientService:C["a"],RolesService:R["a"],GenderService:p["a"],CountryService:m["a"],ProductTypeService:x,CurrencyService:w,TextsService:_},P=a("a761"),M={name:"Admin",components:{Header:i["a"],AdminTable:h,Dashboard:P["default"]},data:function(){return{title:"Client",mode:"create",formInfo:0,localData:[{name:"Melia Varadero1",email:"meliavaradero@melia.com",agent:"Melia-Varadero"},{name:"Melia Varadero1",email:"meliavaradero@melia.com",agent:"Melia-Varadero"},{name:"Melia Varadero1",email:"meliavaradero@melia.com",agent:"Melia-Varadero"},{name:"Melia Varadero1",email:"meliavaradero@melia.com",agent:"Melia-Varadero"}],crudvisible:!1,activeMenu:"client",isLogged:!1}},created:function(){this.isLogged=o["a"].isClientLogged(),this.activeMenu=void 0==this.$route.params.CrudKey?"client":this.$route.params.CrudKey,this.initCrud(this.activeMenu)},methods:{initCrud:function(e){var t=this;L.init(e).then((function(e){t.localData=e}))},updRightConten:function(e,t,a){this.title=e,this.activeMenu=t,this.localData=a||[{name:"Melia Varadero1",email:"meliavaradero@melia.com",agent:"Melia-Varadero"},{name:"Melia Varadero1",email:"meliavaradero@melia.com",agent:"Melia-Varadero"},{name:"Melia Varadero1",email:"meliavaradero@melia.com",agent:"Melia-Varadero"},{name:"Melia Varadero1",email:"meliavaradero@melia.com",agent:"Melia-Varadero"}]},createRow:function(){this.mode="create",this.crudvisible=!this.crudvisible},editRow:function(e){this.crudvisible=!this.crudvisible,this.mode="update",this.formInfo=e.id},deleteRow:function(e){var t=this;L.delete(this.activeMenu,e).then((function(e){t.localData=e}))},showTable:function(){this.crudvisible=!this.crudvisible},updCrud:function(){this.mode="create",this.crudvisible=!1}}},j=M,O=(a("0f76"),Object(d["a"])(j,r,n,!1,null,"fc78f9c8",null));t["default"]=O.exports},c740:function(e,t,a){"use strict";var r=a("23e7"),n=a("b727").findIndex,i=a("44d2"),c="findIndex",s=!0;c in[]&&Array(1)[c]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(c)}}]);
//# sourceMappingURL=chunk-5385bfc6.9bfc233e.js.map