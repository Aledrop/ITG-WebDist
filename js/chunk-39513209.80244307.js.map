{"version":3,"sources":["webpack:///./src/components/product/PoleList.vue?9c0d","webpack:///./src/views/Product.vue?1d39","webpack:///./src/views/Product.vue?1e88","webpack:///./src/components/product/PoleList.vue?2734","webpack:///src/components/product/PoleList.vue","webpack:///./src/components/product/PoleList.vue?b92a","webpack:///./src/components/product/PoleList.vue","webpack:///./src/services/common/pole.service.js","webpack:///src/views/Product.vue","webpack:///./src/views/Product.vue?ad6d","webpack:///./src/views/Product.vue","webpack:///./src/assets/img/hotel_thumb/thumb1.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","product","country","attrs","poles","on","getPoleInfo","_e","_l","item","index","key","poleKey","productKey","staticRenderFns","isMobile","class","$event","id","name","poleListFormat","model","value","callback","$$v","selectedPole","expression","component","CountryService","getPolesByCountry","countryid","Authorization","checkLogin","then","res","list","status","success","errors","data","push","alias","active","e","console","log","module","exports"],"mappings":"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","file":"js/chunk-39513209.80244307.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PoleList.vue?vue&type=style&index=0&id=2f77ceda&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&id=15c3582f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"bg-white\"},[_c('h2',{staticClass:\"text-3xl pt-6 text-blue \\n      md:text-6xl\\n      lg:text-4xl\"},[_vm._v(\"- \"+_vm._s(_vm.product)+\" -\")]),_c('span',{staticClass:\"font-Clarissa text-5xl\"},[_vm._v(_vm._s(_vm.country))]),_c('searcher')],1),_c('section',{staticClass:\"bg-white text-white\"},[_c('div',{staticClass:\"bg-blue pb-10\"},[_c('pole-list',{attrs:{\"poles\":_vm.poles},on:{\"poleInfo\":_vm.getPoleInfo}}),_c('div',{staticClass:\"container flex flex-col gap-20 items-center py-10\"},[(_vm.loading)?_c('span',{staticClass:\"text-3xl\"},[_c('i',{staticClass:\"fa fa-spinner fa-pulse\"})]):_vm._e(),(_vm.nohotel)?_c('span',{staticClass:\"text-3xl\"},[_vm._v(\" No hay hoteles disponibles en el polo \")]):_vm._e(),_vm._l((_vm.product_list),function(item,index){return _c('product-list-template',{key:index,attrs:{\"item\":item,\"index\":index,\"params\":{\n               poleKey: _vm.country,\n               productKey: _vm.product\n            }}})})],2)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-wrap justify-center gap-4 text-sm py-6 m-auto\\nmd:text-2xl md:w-4/6\"},[(!_vm.isMobile)?_vm._l((_vm.poles),function(item,index){return _c('button',{key:index,staticClass:\"border-2 border-blue bg-white text-blue rounded-75 px-8\\n        hover:border-orange hover:bg-orange hover:text-white\",class:{'btn-active': (item.active)},on:{\"click\":function($event){return _vm.getPoleInfo(item.id)}}},[_vm._v(_vm._s(item.name))])}):_vm._e(),(_vm.isMobile)?[_c('model-select',{staticClass:\"search-select border border-blue rounded-4xl text-darkGray w-3/4 text-xl \",attrs:{\"options\":_vm.poleListFormat,\"placeholder\":\"Seleccione destino\"},model:{value:(_vm.selectedPole),callback:function ($$v) {_vm.selectedPole=$$v},expression:\"selectedPole\"}})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"flex flex-wrap justify-center gap-4 text-sm py-6 m-auto\r\n    md:text-2xl md:w-4/6\">\r\n    <template v-if=\"!isMobile\">\r\n        <button v-for=\"(item, index) in poles\" :key=\"index\"\r\n            :class=\"{'btn-active': (item.active)}\"\r\n            class=\"border-2 border-blue bg-white text-blue rounded-75 px-8\r\n            hover:border-orange hover:bg-orange hover:text-white\"\r\n            @click=\"getPoleInfo(item.id)\">{{item.name}}</button>        \r\n    </template>    \r\n    <template v-if=\"isMobile\">\r\n        <model-select :options=\"poleListFormat\" \r\n            v-model=\"selectedPole\"\r\n            placeholder=\"Seleccione destino\"\r\n            class=\"search-select border border-blue rounded-4xl text-darkGray w-3/4 text-xl \"\r\n            >\r\n        </model-select>\r\n    </template>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { ModelSelect } from 'vue-search-select'\r\nimport 'vue-search-select/dist/VueSearchSelect.css'\r\n\r\nexport default {\r\n    name: 'PoleList',\r\n    props: {\r\n        poles: [],        \r\n    },\r\n    components: {\r\n        ModelSelect\r\n    },\r\n    data() {\r\n        return {            \r\n            selectedPole: {}\r\n        }\r\n    },    \r\n    watch: {\r\n        selectedPole(e) {\r\n            // console.log(e)\r\n            this.getPoleInfo(e.value)\r\n        }\r\n    },\r\n    methods: {        \r\n        getPoleInfo(poleId) {\r\n            console.log(poleId)\r\n            this.$emit('poleInfo', poleId)\r\n        }\r\n    },\r\n    computed: {\r\n        isMobile() {\r\n            return window.innerWidth <= 991\r\n        },\r\n        poleListFormat() {\r\n            const formated_poles = []\r\n            this.poles.map(pole => {\r\n                formated_poles.push({text: pole.name, value: pole.id})\r\n            })\r\n            this.selectedPole = formated_poles[0]\r\n            return formated_poles\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    .btn-active{\r\n      border-color: var(--orange) !important;\r\n      background-color: var(--orange) !important;\r\n      color: white !important;\r\n   }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PoleList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PoleList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PoleList.vue?vue&type=template&id=2f77ceda&scoped=true&\"\nimport script from \"./PoleList.vue?vue&type=script&lang=js&\"\nexport * from \"./PoleList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PoleList.vue?vue&type=style&index=0&id=2f77ceda&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f77ceda\",\n  null\n  \n)\n\nexport default component.exports","import Authorization from \"../user/auth.service\";\r\n\r\nconst CountryService = {\r\n    getPolesByCountry(countryid) {\r\n        try {\r\n            return Authorization.checkLogin(`/poles/by-country/${countryid}`).then(res => {\r\n                const list = []\r\n                if (res.status == 200) {\r\n                    for (let item of res.data) {\r\n                        list.push({\r\n                            id: item.id,\r\n                            name: item.alias,\r\n                            active: false\r\n                        })\r\n                    }\r\n                } else //! Fail check login\r\n                {\r\n                    return {\r\n                        success: false,\r\n                        errors: 'Fail check login'\r\n                    }\r\n                }\r\n                return list\r\n            })\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    },    \r\n    \r\n}\r\n\r\nexport default CountryService","<template>\r\n   <div>\r\n      <section class=\"bg-white\">\r\n         <h2 class=\"text-3xl pt-6 text-blue \r\n         md:text-6xl\r\n         lg:text-4xl\">- {{product}} -</h2>\r\n\r\n         <span class=\"font-Clarissa text-5xl\">{{country}}</span>\r\n\r\n         <!-- BUSCADOR -->\r\n         <searcher></searcher>\r\n      </section>\r\n\r\n      <section class=\"bg-white text-white\">\r\n         <!-- <figure>\r\n            <img src=\"@/assets/img/singlepole-top-blue.png\" alt=\"\" />\r\n         </figure> -->\r\n \r\n         <div class=\"bg-blue pb-10\">\r\n            <!-- Listado polo -->\r\n            <pole-list :poles=\"poles\" v-on:poleInfo=\"getPoleInfo\"></pole-list>\r\n\r\n            <!-- Listado de productos por polo -->\r\n            <div class=\"container flex flex-col gap-20 items-center py-10\">\r\n               <span class=\"text-3xl\" v-if=\"loading\">\r\n                  <i class=\"fa fa-spinner fa-pulse\"></i>\r\n               </span>\r\n               <span class=\"text-3xl\" v-if=\"nohotel\">\r\n                  No hay hoteles disponibles en el polo\r\n               </span>\r\n               <product-list-template\r\n               v-for=\"(item, index) in product_list\" :key=\"index\"\r\n               :item=\"item\" :index=\"index\" \r\n               :params=\"{\r\n                  poleKey: country,\r\n                  productKey: product\r\n               }\"\r\n               ></product-list-template>\r\n            </div>\r\n         </div>\r\n      </section>\r\n   </div>\r\n</template>\r\n<script>\r\nimport Searcher from \"@/components/searcher/Searcher.vue\";\r\nimport PoleList from '@/components/product/PoleList.vue'\r\nimport ProductListTemplate from '@/components/ProductListTemplate'\r\n\r\nimport PoleService from '@/services/common/pole.service'\r\nimport Authorization from '@/services/user/auth.service'\r\n\r\nexport default {\r\n   name: 'Hotels',\r\n   components: {\r\n      Searcher,\r\n      PoleList,\r\n      ProductListTemplate\r\n   },\r\n   data() {\r\n      return {\r\n         product: '',\r\n         country: '',\r\n         loading: false,\r\n         nohotel: false,\r\n         poles: [],\r\n         product_list: [\r\n            // {\r\n            //    img: require(\"@/assets/img/hotel_thumb/thumb1.png\"),\r\n            //    name: \"Iberostar Laguna Azul\",          \r\n            //    keyword: \"iberostar-lagunaazul\",          \r\n            //    price_from: '59.99',\r\n            //    star: '59.99',\r\n            //    segment: {\r\n            //       name: \"playa\",\r\n            //       img: require(\"@/assets/img/segment/playa.png\")\r\n            //    },       \r\n            // }\r\n         ],\r\n         pole: ''\r\n      }\r\n   },\r\n   created() {\r\n      PoleService.getPolesByCountry(51).then(p => {\r\n         this.poles = p         \r\n         this.poles[0].active = true\r\n         this.search(this.poles[0].id)\r\n         this.pole = this.poles[0].name\r\n         this.product = this.$route.params.productKey\r\n         this.country = this.$route.params.poleKey\r\n      })\r\n   },\r\n   methods: {\r\n      getPoleInfo(pole_id) {\r\n         this.nohotel = false\r\n         this.loading = false\r\n         this.product_list = []\r\n\r\n         this.poles.map(p => {\r\n            p.active = (p.id == pole_id) ? true : false            \r\n         })\r\n\r\n         this.search(pole_id)      \r\n      },      \r\n      search(pole_id) {\r\n         // Get Hotel with price from by pole         \r\n         // Searching by params         \r\n         this.loading = true\r\n         Authorization.checkLogin(`/hotels/by-pole/${pole_id}`).then(e => {                        \r\n            this.loading = false\r\n            if(e) {                             \r\n               if(e.data) {\r\n                  this.product_list = e.data                  \r\n                  this.product_list.map(p => {\r\n                     p.image = require(\"@/assets/img/hotel_thumb/thumb1.png\")\r\n                     p.segment = {\r\n                        name: \"playa\",\r\n                        img: require(\"@/assets/img/segment/playa.png\")\r\n                     }                     \r\n                  })\r\n                  for(let p of this.product_list) {\r\n                     if (p.images) {\r\n                        const img = this.getMainImage(p.images)\r\n                        if(img.length > 0)\r\n                           p.image = img[0].url\r\n                     }\r\n                  }\r\n               } else {\r\n                  this.nohotel = true\r\n               }\r\n               // console.log(this.product_list[17])\r\n            } \r\n         })\r\n      },\r\n      // devualve la url de la imagen principal\r\n      getMainImage(img_list, filter = 'original') {\r\n         const main = img_list.filter(item => item.order == 1);     \r\n         if(main.length > 0) {\r\n            const img = main[0].resources.filter(item => item.image == filter)            \r\n            if(img) \r\n               return img\r\n         }\r\n         return []\r\n      }\r\n   }\r\n   \r\n}\r\n</script>\r\n<style scoped>\r\n   article {\r\n      grid-template-rows: auto auto;\r\n      grid-template-columns: auto;\r\n   }\r\n\r\n   @media screen and (min-width: 768px) {\r\n      article {\r\n         grid-template-columns: 27% auto;  \r\n         grid-template-rows: auto;  \r\n      }      \r\n   }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=15c3582f&scoped=true&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Product.vue?vue&type=style&index=0&id=15c3582f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15c3582f\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/thumb1.da0cbe71.png\";"],"sourceRoot":""}