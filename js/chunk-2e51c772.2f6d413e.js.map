{"version":3,"sources":["webpack:///./src/views/Products.vue?c0c1","webpack:///./src/views/Products.vue?0f57","webpack:///./src/services/common/pole.service.js","webpack:///src/views/Products.vue","webpack:///./src/views/Products.vue?a684","webpack:///./src/views/Products.vue","webpack:///./src/assets/img/hotel_thumb/thumb1.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","product","country","_l","item","index","key","class","on","$event","getPoleInfo","id","name","_e","attrs","poleKey","productKey","staticRenderFns","CountryService","getPolesByCountry","countryid","Authorization","checkLogin","then","res","list","status","success","errors","data","push","alias","active","e","console","log","component","module","exports"],"mappings":"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","file":"js/chunk-2e51c772.2f6d413e.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=style&index=0&id=d2211c64&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"bg-white\"},[_c('h2',{staticClass:\"text-3xl pt-6 text-blue \\n      md:text-6xl\\n      lg:text-4xl\"},[_vm._v(\"- \"+_vm._s(_vm.product)+\" -\")]),_c('span',{staticClass:\"font-Clarissa text-5xl\"},[_vm._v(_vm._s(_vm.country))]),_c('searcher')],1),_c('section',{staticClass:\"bg-white text-white\"},[_c('div',{staticClass:\"bg-blue-180 pb-10\"},[_c('div',{staticClass:\"flex flex-wrap justify-center gap-4 text-sm py-6 m-auto\\n         md:text-2xl md:w-4/6\"},_vm._l((_vm.poles),function(item,index){return _c('button',{key:index,staticClass:\"border-2 border-blue bg-white text-blue rounded-75 px-8\\n            hover:border-orange hover:bg-orange hover:text-white\",class:{'btn-active': (item.active)},on:{\"click\":function($event){return _vm.getPoleInfo(item.id)}}},[_vm._v(_vm._s(item.name))])}),0),_c('div',{staticClass:\"container flex flex-col gap-20 items-center py-10\"},[(_vm.loading)?_c('span',{staticClass:\"text-3xl\"},[_c('i',{staticClass:\"fa fa-spinner fa-pulse\"})]):_vm._e(),(_vm.nohotel)?_c('span',{staticClass:\"text-3xl\"},[_vm._v(\" No hay hoteles disponibles en el polo \")]):_vm._e(),_vm._l((_vm.product_list),function(item,index){return _c('product-list-template',{key:index,attrs:{\"item\":item,\"index\":index,\"params\":{\n               poleKey: _vm.country,\n               productKey: _vm.product\n            }}})})],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Authorization from \"../user/auth.service\";\r\n\r\nconst CountryService = {\r\n    getPolesByCountry(countryid) {\r\n        try {\r\n            return Authorization.checkLogin(`/poles/by-country/${countryid}`).then(res => {\r\n                const list = []\r\n                if (res.status == 200) {\r\n                    for (let item of res.data) {\r\n                        list.push({\r\n                            id: item.id,\r\n                            name: item.alias,\r\n                            active: false\r\n                        })\r\n                    }\r\n                } else //! Fail check login\r\n                {\r\n                    return {\r\n                        success: false,\r\n                        errors: 'Fail check login'\r\n                    }\r\n                }\r\n                return list\r\n            })\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    },    \r\n    \r\n}\r\n\r\nexport default CountryService","<template>\r\n   <div>\r\n      <section class=\"bg-white\">\r\n         <h2 class=\"text-3xl pt-6 text-blue \r\n         md:text-6xl\r\n         lg:text-4xl\">- {{product}} -</h2>\r\n\r\n         <span class=\"font-Clarissa text-5xl\">{{country}}</span>\r\n\r\n         <!-- BUSCADOR -->\r\n         <searcher></searcher>\r\n      </section>\r\n\r\n      <section class=\"bg-white text-white\">\r\n         <!-- <figure>\r\n            <img src=\"@/assets/img/singlepole-top-blue.png\" alt=\"\" />\r\n         </figure> -->\r\n \r\n         <div class=\"bg-blue-180 pb-10\">\r\n            <!-- Listado polo -->\r\n            <div class=\"flex flex-wrap justify-center gap-4 text-sm py-6 m-auto\r\n            md:text-2xl md:w-4/6\">\r\n            <button v-for=\"(item, index) in poles\" :key=\"index\"\r\n               :class=\"{'btn-active': (item.active)}\"\r\n               class=\"border-2 border-blue bg-white text-blue rounded-75 px-8\r\n               hover:border-orange hover:bg-orange hover:text-white\"\r\n               @click=\"getPoleInfo(item.id)\">{{item.name}}</button>\r\n            </div>\r\n\r\n            <!-- Listado de productos por polo -->\r\n            <div class=\"container flex flex-col gap-20 items-center py-10\">\r\n               <span class=\"text-3xl\" v-if=\"loading\">\r\n                  <i class=\"fa fa-spinner fa-pulse\"></i>\r\n               </span>\r\n               <span class=\"text-3xl\" v-if=\"nohotel\">\r\n                  No hay hoteles disponibles en el polo\r\n               </span>\r\n               <product-list-template\r\n               v-for=\"(item, index) in product_list\" :key=\"index\"\r\n               :item=\"item\" :index=\"index\" \r\n               :params=\"{\r\n                  poleKey: country,\r\n                  productKey: product\r\n               }\"\r\n               ></product-list-template>\r\n            </div>\r\n         </div>\r\n      </section>\r\n   </div>\r\n</template>\r\n<script>\r\nimport Searcher from \"@/components/searcher/Searcher.vue\";\r\nimport ProductListTemplate from '@/components/ProductListTemplate'\r\n\r\nimport PoleService from '@/services/common/pole.service'\r\nimport Authorization from '@/services/user/auth.service'\r\n\r\nexport default {\r\n   name: 'Hotels',\r\n   components: {\r\n      Searcher,\r\n      ProductListTemplate\r\n   },\r\n   data() {\r\n      return {\r\n         product: '',\r\n         country: '',\r\n         loading: false,\r\n         nohotel: false,\r\n         poles: [],\r\n         product_list: [\r\n            // {\r\n            //    img: require(\"@/assets/img/hotel_thumb/thumb1.png\"),\r\n            //    name: \"Iberostar Laguna Azul\",          \r\n            //    keyword: \"iberostar-lagunaazul\",          \r\n            //    price_from: '59.99',\r\n            //    star: '59.99',\r\n            //    segment: {\r\n            //       name: \"playa\",\r\n            //       img: require(\"@/assets/img/segment/playa.png\")\r\n            //    },       \r\n            // }\r\n         ],\r\n         pole: ''\r\n      }\r\n   },\r\n   created() {\r\n      PoleService.getPolesByCountry(51).then(p => {\r\n         this.poles = p         \r\n         this.poles[0].active = true\r\n         this.search(this.poles[0].id)\r\n         this.pole = this.poles[0].name\r\n         this.product = this.$route.params.productKey\r\n         this.country = this.$route.params.poleKey\r\n      })\r\n   },\r\n   methods: {\r\n      getPoleInfo(pole_id) {\r\n         this.nohotel = false\r\n         this.loading = false\r\n         this.product_list = []\r\n\r\n         this.poles.map(p => {\r\n            p.active = (p.id == pole_id) ? true : false            \r\n         })\r\n\r\n         this.search(pole_id)      \r\n      },      \r\n      search(pole_id) {\r\n         // Get Hotel with price from by pole         \r\n         // Searching by params         \r\n         this.loading = true\r\n         Authorization.checkLogin(`/hotels/by-pole/${pole_id}`).then(e => {                        \r\n            this.loading = false\r\n            if(e) {                             \r\n               if(e.data) {\r\n                  this.product_list = e.data                  \r\n                  this.product_list.map(p => {\r\n                     p.image = require(\"@/assets/img/hotel_thumb/thumb1.png\")\r\n                     p.segment = {\r\n                        name: \"playa\",\r\n                        img: require(\"@/assets/img/segment/playa.png\")\r\n                     }                     \r\n                  })\r\n                  for(let p of this.product_list) {\r\n                     if (p.images) {\r\n                        const img = this.getMainImage(p.images)\r\n                        if(img.length > 0)\r\n                           p.image = img[0].url\r\n                     }\r\n                  }\r\n               } else {\r\n                  this.nohotel = true\r\n               }\r\n               // console.log(this.product_list[17])\r\n            } \r\n         })\r\n      },\r\n      // devualve la url de la imagen principal\r\n      getMainImage(img_list, filter = 'original') {\r\n         const main = img_list.filter(item => item.order == 1);     \r\n         if(main.length > 0) {\r\n            const img = main[0].resources.filter(item => item.image == filter)            \r\n            if(img) \r\n               return img\r\n         }\r\n         return []\r\n      }\r\n   }\r\n   \r\n}\r\n</script>\r\n<style scoped>\r\n   .btn-active{\r\n      border-color: var(--orange) !important;\r\n      background-color: var(--orange) !important;\r\n      color: white !important;\r\n   }\r\n\r\n   article {\r\n      grid-template-rows: auto auto;\r\n      grid-template-columns: auto;\r\n   }\r\n\r\n   @media screen and (min-width: 768px) {\r\n      article {\r\n         grid-template-columns: 27% auto;  \r\n         grid-template-rows: auto;  \r\n      }      \r\n   }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=d2211c64&scoped=true&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Products.vue?vue&type=style&index=0&id=d2211c64&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d2211c64\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/thumb1.da0cbe71.png\";"],"sourceRoot":""}