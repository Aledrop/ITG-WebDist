"use strict";(self["webpackChunkiristravel_v3"]=self["webpackChunkiristravel_v3"]||[]).push([[957],{1942:function(e,t,a){a.r(t),a.d(t,{default:function(){return st}});var l=a(3396),i=a(7139),s=a(9242);const o={class:"bg-white"},r={class:"text-white bg-white"},n={class:"flex flex-col pb-12 gap-y-6 bg-blue_1"},c=(0,l._)("h2",{class:"pt-6 text-3xl text-white md:text-6xl lg:text-4xl"},"- Enviar solicitud de reserva -",-1),p={class:"text-5xl font-Clarissa"},d={class:"container p-5 mx-auto border-2 border-white"},u={class:"flex flex-col flex-wrap justify-between flex-1 px-10 py-8 text-xl gap-x-3 gap-y-6 shadow-round bg-dark_blue_1 md:flex-row"},_={key:0,class:"flex gap-3 w-full"},f={class:"flex items-center w-full gap-3"},m=(0,l._)("i",{class:"fas fa-check"},null,-1),h=[m],g={class:"flex flex-col w-full gap-3 md:flex-row"},x={class:"p-2 px-4 text-left bg-green-500 md:w-3/5"},b=["disabled"],w={class:"fa fa-spinner fa-pulse text-white"};function k(e,t,a,m,k,y){const v=(0,l.up)("general-request"),q=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("section",r,[(0,l._)("div",n,[c,(0,l._)("span",p,(0,i.zw)(a.title),1),(0,l._)("div",d,[(0,l.Wm)(v,{request:k.request_info,onUpdInfo:y.updRequest},null,8,["request","onUpdInfo"]),(0,l._)("form",u,[(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Nombre completo*","onUpdate:modelValue":t[0]||(t[0]=e=>k.name=e),min:"0",class:"w-full px-6 py-2 text-left border text-orange_1 bg-dark_blue_1 md:w-1/2"},null,512),[[s.nr,k.name]]),(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Teléfono*","onUpdate:modelValue":t[1]||(t[1]=e=>k.phone=e),required:"",min:"0",onBlur:t[2]||(t[2]=e=>y.validatePhone()),class:"w-full px-6 py-2 text-left border text-orange_1 bg-dark_blue_1 md:w-1/5"},null,544),[[s.nr,k.phone]]),(0,l.wy)((0,l._)("input",{type:"email",placeholder:"Email*","onUpdate:modelValue":t[3]||(t[3]=e=>k.email=e),required:"",min:"0",class:"w-full px-6 py-2 text-left border text-orange_1 bg-dark_blue_1 md:w-1/4"},null,512),[[s.nr,k.email]]),"car"==k.request_info.type?((0,l.wg)(),(0,l.iD)("div",_,[(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Nacionalidad*","onUpdate:modelValue":t[4]||(t[4]=e=>k.nationality=e),min:"0",class:"w-full px-6 py-2 text-left border text-orange_1 bg-dark_blue_1 md:w-1/2"},null,512),[[s.nr,k.nationality]]),(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Pasaporte*","onUpdate:modelValue":t[5]||(t[5]=e=>k.passport=e),min:"0",class:"w-full px-6 py-2 text-left border text-orange_1 bg-dark_blue_1 md:w-1/2"},null,512),[[s.nr,k.passport]])])):(0,l.kq)("",!0),(0,l.wy)((0,l._)("textarea",{id:"",placeholder:"Descripcion de su solicitud","onUpdate:modelValue":t[6]||(t[6]=e=>k.message=e),class:"w-full h-40 px-8 py-6 text-left border text-orange_1 bg-dark_blue_1"},null,512),[[s.nr,k.message]]),(0,l._)("div",f,[(0,l._)("span",{class:(0,i.C_)(["items-center inline px-2 py-1 border cursor-pointer bg-dark_blue_1",y.isActiveTerm]),onClick:t[7]||(t[7]=e=>k.activeTerm=!k.activeTerm)},h,2),(0,l._)("label",{class:"self-center text-orange_1",onClick:t[8]||(t[8]=e=>k.activeTerm=!k.activeTerm)},[(0,l.Uk)("He leido y acepto los "),(0,l.Wm)(q,{class:"text-light_blue_1",to:{name:"TermsAndPolicy"},target:"_blank"},{default:(0,l.w5)((()=>[(0,l.Uk)("Términos y condiciones")])),_:1})])]),(0,l._)("div",g,[(0,l.wy)((0,l._)("span",{class:"p-2 px-4 text-left bg-red md:w-3/5"},(0,i.zw)(k.error_message),513),[[s.F8,k.error]]),(0,l.wy)((0,l._)("span",x,"La solicitud fue enviada exitosamente!!!",512),[[s.F8,k.success]]),(0,l._)("button",{type:"button",class:"px-12 py-1 text-base text-white uppercase border md:text-xl bg-orange_1 border-orange_1 md:ml-auto hover:bg-dark_blue_1 hover:text-orange_1",onClick:t[9]||(t[9]=(...e)=>y.formSubmit&&y.formSubmit(...e)),disabled:k.buttonDisabled},[(0,l.wy)((0,l._)("i",w,null,512),[[s.F8,k.loading]]),(0,l.Uk)(" Enviar Solicitud")],8,b)])])])])])])}a(7658);const y={class:"flex flex-col gap-4 px-10 py-4 mb-6 text-xl shadow-round bg-dark_blue_1"},v={class:"flex flex-col gap-3 text-xl md:flex-row"},q=(0,l._)("h2",{class:"text-left md:w-1/12"},"Destino: ",-1),D={class:"px-4 text-left border-b md:w-2/5 capitalize"},U={class:"flex gap-3 text-xl"},P=(0,l._)("h2",{class:"text-left md:w-1/12"},"Producto: ",-1),C={class:"px-4 text-left border-b md:w-2/5 capitalize"};function R(e,t,a,s,o,r){return(0,l.wg)(),(0,l.iD)("div",y,[(0,l._)("div",v,[q,(0,l._)("span",D,(0,i.zw)(a.request.destination),1)]),(0,l._)("div",U,[P,(0,l._)("span",C,(0,i.zw)(a.request.product),1)]),((0,l.wg)(),(0,l.j4)((0,l.LL)(o.components[a.request.type]),{info:a.request,onUpdInfo:r.updRequest},null,40,["info","onUpdInfo"]))])}const T={class:"flex flex-col items-center gap-3 p-4 border md:flex-row md:w-2/4"},z={key:0,class:"flex w-4/12 gap-3"},V=(0,l._)("h2",null,"Cantidad: ",-1),H={key:2,class:"ml-6"},S={key:3,class:"text-3xl font-bold text-orange_1"};function $(e,t,a,o,r,n){const c=(0,l.up)("Datepicker");return(0,l.wg)(),(0,l.iD)("div",T,[n.isProduct("Remesas")?((0,l.wg)(),(0,l.iD)("div",z,[V,(0,l.wy)((0,l._)("input",{class:"w-2/4 p-1 px-2 text-blue_1",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.inputVal=e)},null,512),[[s.nr,r.inputVal]])])):(0,l.kq)("",!0),n.isProduct("Carros")||n.isProduct("Hoteles")?((0,l.wg)(),(0,l.j4)(c,{key:1,class:"datepicker-container clear",modelValue:r.dateRange,"onUpdate:modelValue":t[1]||(t[1]=e=>r.dateRange=e),format:"dd/MM/yyyy",range:"","multi-calendars":"","auto-apply":"","enable-time-picker":!1,"close-on-auto-apply":!0,placeholder:n.placeholder,onChange:n.handleDate},null,8,["modelValue","placeholder","onChange"])):(0,l.kq)("",!0),n.isProduct("Hoteles")?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("h2",H,(0,i.zw)(n.isProduct("Remesas")?"Precio a pagar:":"Precio desde:"),1)),n.isProduct("Hoteles")?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("span",S,"$"+(0,i.zw)(n.calcPrice),1))])}var Y=a(9024),F=a(6797),I=a.n(F),M={name:"HomeRequest",props:{info:{required:!0}},components:{Datepicker:Y.Z},data(){return{dateRange:{},margin:0,price:0,inputVal:100,prod:{}}},created(){this.margin=this.info.price,this.prod=this.info},watch:{price(){this.updRequest()},dateRange(){this.updRequest()}},computed:{calcPrice(){let e=this.info.price;return e=this.inputVal*this.margin/100,e},placeholder(){let e;return this.isProduct("Hoteles")?e="Fecha de entrada y salida":this.isProduct("Carros")&&(e="Fecha de recogida y entrega"),e}},methods:{handleDate(e){this.dateRange.startDate=I()(e[0].toString()).format("DD-MM-YYYY"),this.dateRange.endDate=I()(e[1].toString()).format("DD-MM-YYYY")},isProduct(e){return this.info.product==e&&(this.updRequest(),!0)},updRequest(){this.price=this.calcPrice,this.price>0&&this.$emit("updInfo",{date:`${this.dateRange.startDate} - ${this.dateRange.endDate}`,initprice:this.inputVal,price:this.price})}}},E=a(89);const N=(0,E.Z)(M,[["render",$]]);var B=N;const Z={class:"flex flex-col flex-wrap shadow-round bg-dark_blue_1 text-xl px-3 md:px-10 py-4 mb-6 md:flex-row"},L={class:"flex flex-col gap-3 items-start md:w-3/12"},W={class:"capitalize"},j=(0,l._)("b",null,"Pais: ",-1),A={key:0},O=(0,l._)("b",null,"Polo: ",-1),G={key:1,class:"capitalize"},J=(0,l._)("b",null,"Producto:",-1),K={class:"flex flex-col gap-3 items-start py-3 px-8 border my-2 md:w-9/12 md:m-0"},Q={class:"flex gap-x-3 flex-col md:flex-row"},X={key:0,class:"capitalize"},ee={key:1,class:"text-base self-center"},te={key:0,class:"flex flex-col w-full gap-x-3 gap-y-6 md:flex-row"},ae=(0,l._)("div",{class:"flex flex-col gap-y-1 items-start md:w-5/12"},[(0,l._)("small",{class:"text ml-3"},"Fecha")],-1),le={key:1,class:"flex flex-col text-left w-full gap-y-2"},ie={class:"flex gap-x-4 text-base pb-2"},se=(0,l._)("b",null,"Plan:",-1),oe={class:"flex gap-x-4 text-base pb-2"},re=(0,l._)("b",null,"Habitaciones:",-1),ne=(0,l._)("b",null,"Noches:",-1),ce=(0,l._)("b",null,"Personas:",-1),pe={key:2,class:"self-end text-2xl font-bold ml-auto"},de={class:"text-orange_1"};function ue(e,t,a,s,o,r){const n=(0,l.up)("number-imput");return(0,l.wg)(),(0,l.iD)("div",Z,[(0,l._)("div",L,[(0,l._)("span",W,[j,(0,l.Uk)(" "+(0,i.zw)(a.info.country),1)]),a.info.pole?((0,l.wg)(),(0,l.iD)("span",A,[O,(0,l.Uk)(" "+(0,i.zw)(a.info.pole),1)])):(0,l.kq)("",!0),""!=a.info.product?((0,l.wg)(),(0,l.iD)("span",G,[J,(0,l.Uk)(" "+(0,i.zw)(a.info.product),1)])):(0,l.kq)("",!0)]),(0,l._)("div",K,[(0,l._)("div",Q,[r.ishotel?((0,l.wg)(),(0,l.iD)("b",X,(0,i.zw)(a.info.product_name),1)):(0,l.kq)("",!0),r.ishotel?((0,l.wg)(),(0,l.iD)("span",ee,"("+(0,i.zw)(r.formatDate)+")",1)):(0,l.kq)("",!0)]),a.info.is_home_request?((0,l.wg)(),(0,l.iD)("div",te,[ae,"Hoteles"==a.info.product?((0,l.wg)(),(0,l.j4)(n,{key:0,class:"md:w-4/12",title:"Cantidad de personas",min:1,value:a.info.num_person,id:1,onUpdVal:e.updPerson},null,8,["value","onUpdVal"])):(0,l.kq)("",!0)])):(0,l.kq)("",!0),r.ishotel?((0,l.wg)(),(0,l.iD)("article",le,[(0,l._)("section",ie,[(0,l._)("span",null,[se,(0,l.Uk)(" "+(0,i.zw)(a.info.category),1)])]),(0,l._)("section",oe,[(0,l._)("span",null,[re,(0,l.Uk)(" "+(0,i.zw)(a.info.num_rooms),1)]),(0,l._)("span",null,[ne,(0,l.Uk)(" "+(0,i.zw)(r.numNights),1)]),(0,l._)("span",null,[ce,(0,l.Uk)(" "+(0,i.zw)(a.info.num_person),1)])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.info.rooms,((e,t)=>((0,l.wg)(),(0,l.iD)("section",{class:"flex gap-x-3 text-base",key:t},[(0,l._)("span",null,(0,i.zw)(e.type)+":",1),(0,l._)("span",null,(0,i.zw)(e.comb),1)])))),128))])):(0,l.kq)("",!0),a.info.price>0?((0,l.wg)(),(0,l.iD)("span",pe,[(0,l.Uk)("Precio total:"),(0,l._)("span",de," $"+(0,i.zw)(a.info.price),1)])):(0,l.kq)("",!0)])])}var _e={name:"HotelRequest",props:{info:{default:{}}},data(){return{rooms:["Simple","Doble","Triple"],dateRange:null,num_nights:1,request_info:{type:"home",handler:{}}}},computed:{ishotel(){return"hotel"==this.info.type},persons(){const e="hotel"==this.info.product?this.info.num_person:e;return e},formatDate(){const e=this.info.date.split("/");let t;return t=e.length>1?e[0]+" - "+e[1]:I()(e[0]).format("DD/MM/YYYY"),t},numNights(){const e=this.info.date.split("/");let t,a,l=1;return e.length>1&&(t=I()(e[0],"DD/MM/YYYY"),a=I()(e[1],"DD/MM/YYYY"),l=a.diff(t,"days")),l}}};const fe=(0,E.Z)(_e,[["render",ue]]);var me=fe;const he=e=>((0,l.dD)("data-v-5611f2f2"),e=e(),(0,l.Cn)(),e),ge={class:"flex flex-col flex-wrap shadow-round bg-dark_blue_1 text-xl px-3 md:px-10 py-4 mb-6 md:flex-row"},xe={class:"flex flex-col gap-3 items-start md:w-3/12"},be={class:"capitalize"},we=he((()=>(0,l._)("b",null,"Pais: ",-1))),ke={key:0},ye=he((()=>(0,l._)("b",null,"Polo: ",-1))),ve={key:1,class:"capitalize"},qe=he((()=>(0,l._)("b",null,"Producto:",-1))),De={class:"flex flex-col items-start py-3 px-4 border my-2 md:w-9/12 md:m-0"},Ue={class:"flex gap-x-8"},Pe={class:"text-base pb-2"},Ce={class:"leading-8"},Re=he((()=>(0,l._)("b",null,"Fecha: ",-1))),Te={class:"flex gap-x-4 text-base pb-2"},ze={class:"leading-8"},Ve=he((()=>(0,l._)("b",null,"Auto:",-1))),He={class:"flex gap-x-4 text-base pb-2"},Se={class:"leading-8"},$e=he((()=>(0,l._)("b",null,"Motor:",-1))),Ye={class:"w-full flex gap-x-8"},Fe={class:"w-full text-base text-start bg-light_blue_1 text-dark_blue_1 py-1 px-2"},Ie=he((()=>(0,l._)("i",{class:"fas fa-gas-pump"},null,-1))),Me={for:"",class:"py-4"},Ee={class:"flex md:flex-row flex-col gap-3 w-full"},Ne={class:"flex flex-col gap-y-1 text-gray-700 w-3/6"},Be={class:"flex flex-col gap-y-1 text-gray-700 w-3/6"},Ze={class:"w-full py-1 px-4 bg-light_blue_1 text-dark_blue_1 text-sm text-left my-4"},Le=he((()=>(0,l._)("i",{class:"fa fa-warning"},null,-1))),We={key:0,class:"self-end text-2xl font-bold ml-auto"},je={class:"text-orange_1"};function Ae(e,t,a,o,r,n){const c=(0,l.up)("Multiselect");return(0,l.wg)(),(0,l.iD)("div",ge,[(0,l._)("div",xe,[(0,l._)("span",be,[we,(0,l.Uk)(" "+(0,i.zw)(a.info.country),1)]),a.info.pole?((0,l.wg)(),(0,l.iD)("span",ke,[ye,(0,l.Uk)(" "+(0,i.zw)(a.info.pole),1)])):(0,l.kq)("",!0),""!=a.info.product?((0,l.wg)(),(0,l.iD)("span",ve,[qe,(0,l.Uk)(" "+(0,i.zw)(a.info.product),1)])):(0,l.kq)("",!0)]),(0,l._)("section",De,[(0,l._)("div",Ue,[(0,l._)("div",Pe,[(0,l._)("span",Ce,[Re,(0,l.Uk)(" ("+(0,i.zw)(a.info.date)+") ",1)])]),(0,l._)("div",Te,[(0,l._)("span",ze,[Ve,(0,l.Uk)(" "+(0,i.zw)(a.info.car_category.alias),1)])]),(0,l._)("div",He,[(0,l._)("span",Se,[$e,(0,l.Uk)(" "+(0,i.zw)(a.info.car_engine.alias),1)])])]),(0,l.wy)((0,l._)("div",Ye,[(0,l._)("span",Fe,[Ie,(0,l.Uk)(" Tarifa de gasolina: $"+(0,i.zw)(a.info.car_category.fuel),1)])],512),[[s.F8,a.info.car_category.fuel>0]]),(0,l._)("label",Me,[(0,l.wy)((0,l._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>r.licence=e)},null,512),[[s.e8,r.licence]]),(0,l.Uk)(" Cuenta con licencia de conducción por periodo mayor a 2 años ")]),(0,l._)("div",Ee,[(0,l._)("div",Ne,[(0,l.Wm)(c,{mode:"single",modelValue:r.car_pickup_place,"onUpdate:modelValue":t[1]||(t[1]=e=>r.car_pickup_place=e),searchable:!0,options:r.car_pickup_places,classes:r.select_style_opt,placeholder:"Seleccione Lugar de recogida",onChange:n.getTimePickUp},null,8,["modelValue","options","classes","onChange"]),(0,l.Wm)(c,{mode:"single",modelValue:r.car_pickup_time,"onUpdate:modelValue":t[2]||(t[2]=e=>r.car_pickup_time=e),searchable:!0,options:r.car_pickup_times,classes:r.select_style_opt,placeholder:"Hora de recogida",onChange:n.getSameTime},null,8,["modelValue","options","classes","onChange"])]),(0,l._)("div",Be,[(0,l.Wm)(c,{mode:"single",modelValue:r.car_dropoff_place,"onUpdate:modelValue":t[3]||(t[3]=e=>r.car_dropoff_place=e),searchable:!0,options:r.car_pickup_places,classes:r.select_style_opt,placeholder:"Seleccione Lugar de entrega",onChange:n.getTimeDropOff},null,8,["modelValue","options","classes","onChange"]),(0,l.Wm)(c,{mode:"single",modelValue:r.car_dropoff_time,"onUpdate:modelValue":t[4]||(t[4]=e=>r.car_dropoff_time=e),searchable:!0,options:r.car_dropoff_times,classes:r.select_style_opt,placeholder:"Hora de entrega",onChange:n.updInfo},null,8,["modelValue","options","classes","onChange"])])]),(0,l.wy)((0,l._)("small",Ze,[Le,(0,l.Uk)(" Tarifa por recogida en aeropuerto: $20 ")],512),[[s.F8,n.checkFee]])]),a.info.price>0?((0,l.wg)(),(0,l.iD)("span",We,[(0,l.Uk)(" Precio total: "),(0,l._)("span",je," $"+(0,i.zw)(n.getPrice),1)])):(0,l.kq)("",!0)])}var Oe=a(9810),Ge=a(5607),Je={name:"CarRequest",components:{Multiselect:Oe.Z},props:{info:{default:{}}},data(){return{formattedDate:"",dateRange:null,car_pickup_places:[],car_pickup_place:"",car_dropoff_place:"",car_pickup_times:[],car_dropoff_times:[],car_pickup_time:"",car_dropoff_time:"",licence:!1,request_info:{type:"car",handler:{}},select_style_opt:{container:"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border border-white bg-dark_blue_1 text-base leading-snug outline-none",search:"w-full absolute inset-0 outline-none focus:ring-0 appearance-none box-border border-8 border-transparent text-base font-sans bg-dark_blue_1 pl-2 rtl:pl-0 rtl:pr-3.5",placeholder:"flex items-center w-full h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 text-white rtl:left-auto rtl:right-0 rtl:pl-0 rtl:pr-3.5",singleLabelText:"text-white text-left",option:"text-slate-600",optionSelected:"bg-light_gray_1"}}},async created(){this.car_pickup_places=await Ge.Z.getPlaces()},computed:{getCar(){if(this.info.car_category||this.info.car_engine)return{car_category:this.info.car_category,car_engine:this.info.car_engine}},getPrice(){let e=this.info.price;return this.car_pickup_place&&this.checkFeePrice()&&(e+=20),e},checkFee(){return this.checkFeePrice()},getTimePickUp(){return this.setTimePickUp(),null},getTimeDropOff(){return this.setTimeDropOff(),null},getSameTime(){return this.setSameTime(),null}},methods:{updInfo(){this.$nextTick((()=>{this.$emit("updInfo",{car_pickup_place_id:this.car_pickup_place,car_dropoff_place_id:this.car_dropoff_place,pickup_time:this.car_pickup_time,dropoff_time:this.car_dropoff_time,licence:this.licence,fee:this.checkFeePrice()})}))},checkFeePrice(){const e=this.car_pickup_places.find((e=>this.car_pickup_place==e.value));return!(!this.car_pickup_place||"aeropuerto"!==e.place.toLowerCase())},calculateTime(e,t){const a=I()(e,"H:mm A"),l=I()(t,"H:mm A"),i=[];while(a.isBefore(l))i.push(a.format("H:mm A")),a.add(15,"minutes");return i},setTimePickUp(){let e="";this.car_pickup_place&&(e=this.car_pickup_places.find((e=>this.car_pickup_place==e.value)),this.car_pickup_times=this.calculateTime(e.pickup,e.dropoff),this.car_dropoff_place=this.car_pickup_place)},setTimeDropOff(){let e="";this.car_dropoff_place&&(e=this.car_pickup_places.find((e=>this.car_dropoff_place==e.value)),this.car_dropoff_times=this.calculateTime(e.pickup,e.dropoff))},setSameTime(){this.car_pickup_time&&(this.car_dropoff_time=this.car_pickup_time),this.updInfo()}}};const Ke=(0,E.Z)(Je,[["render",Ae],["__scopeId","data-v-5611f2f2"]]);var Qe=Ke,Xe={name:"GeneralRequest",props:{request:{required:!0}},components:{HomeRequest:B,HotelRequest:me,CarRequest:Qe},data(){return{components:{home:"HomeRequest",hotel:"HotelRequest",car:"CarRequest"}}},methods:{updRequest(e){const t={destination:this.request.destination,product:this.request.product,is_hotel:"hotel"===this.request.type,...e};this.$emit("updInfo",t)}}};const et=(0,E.Z)(Xe,[["render",R]]);var tt=et,at=a(809),lt={name:"ContactoComp",props:{title:{require:!1,default:"Solicitud"}},components:{GeneralRequest:tt},data(){return{loading:!1,activeTerm:!1,is_hotel:!0,success:!1,error_message:"Error. No se pudo enviar la solicitud!!!",error:!1,request_info:{type:"home"},name:"",phone:"",nationality:"",passport:"",email:"",message:"",subject:"",msg_info:{},buttonDisabled:!1}},beforeMount(){const e=localStorage.getItem("request_info");e?(this.request_info=e&&JSON.parse(e),void 0!=this.request_info&&(this.subject=this.request_info.product)):this.$router.push({name:"Home"})},unmounted(){localStorage.removeItem("request_info")},watch:{dateRange(e){this.request.date=e.startDate}},computed:{isActiveTerm(){return this.activeTerm?"text-orange_1":"text-dark_blue_1"}},methods:{updPerson(e){this.request.num_person=e.val},async formSubmit(){if(this.loading=!0,this.buttonDisabled=!0,this.error=!1,this.validateForm(),this.error)return this.buttonDisabled=!1,void(this.loading=!1);let e=JSON.parse(localStorage.getItem("request_info"));if("hotel"===e.type&&this.sendRequestHotel(e),"car"===e.type){if(this.validateCar(),e.prod=e.prod.map((e=>({...e,...this.msg_info}))),this.error)return void(this.buttonDisabled=!1);this.sendRequestCar(e)}this.buttonDisabled=!1,this.loading=!1},validatePhone(){const e=/^[0-9()+-]+$/;let t=this.phone;const a=e.test(t.replace(/ /g,""));a||(this.phone="",this.$swal({title:"Error",text:"El telefono tiene valores incorrectos. No se aceptan letras",icon:"error",confirmButtonColor:"#3085d6"}))},validateForm(){if(""===this.name||""===this.phone){this.error=!0;let e="Debe llenar los datos del formulario antes de enviar la solicitud.";return this.$swal({title:"Error de validación",text:e,icon:"error",confirmButtonColor:"#3085d6"}),void(this.buttonDisabled=!1)}if(!this.activeTerm){this.error=!0;let e="Debe aceptar términos antes de enviar la solicitud.";return this.$swal({title:"Error de validación",text:e,icon:"error",confirmButtonColor:"#3085d6"}),void(this.buttonDisabled=!1)}if(!this.validEmail(this.email)){this.error=!0;let e="Debe insertar una dirección de correo válida.";return this.$swal({title:"Error de validación",text:e,icon:"error",confirmButtonColor:"#3085d6"}),void(this.buttonDisabled=!1)}},async sendRequestCar(e){const t={name:this.name,phone:this.phone,nationality:this.nationality,passport:this.passport,email:this.email,description:this.message,destination:e.destination,product:e.product,car_category:e.car_category,car_engine:e.car_engine,car_pickup_place_id:e.car_pickup_place_id,car_dropoff_place_id:e.car_dropoff_place_id,pickup_time:e.pickup_time,dropoff_time:e.dropoff_time,car_pickup_type:e.car_pickup_type,licence:e.licence,fee:e.fee,price:e.price,priceWFuel:e.priceWFuel,prod:e.prod};try{await this.sendRequest(t)}catch(a){console.log(a)}},async sendRequestHotel(e){const t={name:this.name,phone:this.phone,email:this.email,description:this.message,destination:e.destination,product:e.product,num_nights:e.num_nights,price:e.price,prod:e.prod};try{await this.sendRequest(t)}catch(a){console.log(a)}},async sendRequest(e){try{await at.Z.checkLogin("/booking/create",{data:e,auth:"bearer"},"post"),localStorage.removeItem("request_info"),this.success=!0,this.$swal({title:"Success",text:"Operación es exitosa",icon:"success",confirmButtonColor:"#3085d6"}),setTimeout((()=>{this.$router.push({name:"Home"})}),5e3)}catch(t){localStorage.removeItem("request_info"),this.$swal({title:"Error",text:"No se pudo enviar la solicitud",icon:"error",confirmButtonColor:"#3085d6"}),this.error=!0,this.buttonDisabled=!1,setTimeout((()=>{this.error=!1,this.$router.push({name:"Home"})}),8e3)}},validEmail(e){return!(!e||!e.match(/^[\w-.]+@([\w-]+\.)+[\w-]{2,8}$/))},validateCar(){if(this.msg_info.car_pickup_place_id&&this.msg_info.car_dropoff_place_id)return!0;this.error=!0,this.$swal({title:"Error de validación",text:"Falta seleccionar el lugar!!!",icon:"error",confirmButtonColor:"#3085d6"})},updRequest(e){this.msg_info=e}}};const it=(0,E.Z)(lt,[["render",k]]);var st=it}}]);
//# sourceMappingURL=send_request.b22f4993.js.map