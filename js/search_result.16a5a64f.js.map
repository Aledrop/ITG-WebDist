{"version":3,"file":"js/search_result.16a5a64f.js","mappings":"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","sources":["webpack://iristravel_v3/./src/views/SearchResult.vue","webpack://iristravel_v3/./src/components/product/ListTemplateWrapper.vue","webpack://iristravel_v3/./src/components/product/ListTemplateWrapper.vue?df25","webpack://iristravel_v3/./src/views/SearchResult.vue?109d"],"sourcesContent":["<template>\r\n   <div>\r\n      <section class=\"bg-white\">\r\n         <h2 class=\"text-3xl pt-6 text-blue_1 \r\n         md:text-6xl\r\n         lg:text-4xl\">- Hotel -</h2>\r\n\r\n         <span class=\"font-Clarissa text-5xl\">Cuba</span>\r\n\r\n         <!-- BUSCADOR -->\r\n         <searcher @updparams=\"updSearch\"></searcher>\r\n      </section>\r\n\r\n      <section class=\"bg-white text-white\">\r\n         <!-- <figure>\r\n            <img src=\"@/assets/img/singlepole-top-blue.png\" alt=\"\" />\r\n         </figure> -->\r\n \r\n         <div class=\"bg-blue_1 pb-10\">\r\n            <!-- Listado polo -->\r\n            <div class=\"flex flex-wrap justify-center gap-4 text-sm m-auto \r\n            md:text-2xl md:w-4/6\">\r\n            </div>\r\n\r\n            <!-- Listado de productos por polo -->\r\n            <div class=\"container flex flex-col gap-20 items-center py-20 m-auto\">\r\n\r\n            <list-template-wrapper \r\n               :product=\"product\"\r\n               :item=\"product_list\"\r\n               :search=\"true\"\r\n               :not_found=\"true\"\r\n               :params=\"{\r\n                  poleKey: country,\r\n                  productKey: product,\r\n                  comb: search_params.rooms\r\n               }\"\r\n            />\r\n\r\n            <span v-if=\"(!this.product_list)\">No se encontro ningun precio para el rango de fecha determinado. Intente con otro rango.</span>    \r\n            </div>\r\n         </div>\r\n      </section>\r\n   </div>\r\n</template>\r\n<script>\r\n// import moment from 'moment'\r\nimport Searcher from \"@/components/searcher/Searcher.vue\";\r\n// import ProductListTemplate from '@/components/ProductListTemplate'\r\nimport ListTemplateWrapper from '@/components/product/ListTemplateWrapper.vue';\r\n\r\nimport Authorization from \"@/services/user/auth.service\";\r\n\r\nexport default {\r\n   name: 'SearchResult',\r\n   components: {\r\n      Searcher,\r\n      // ProductListTemplate,\r\n      ListTemplateWrapper\r\n   },\r\n\r\n   data() {\r\n      return {\r\n         product: '',\r\n         country: '',\r\n         product_list: [],\r\n         search_params: {},\r\n         hotel:{\r\n            poles: [],\r\n            pole: ''\r\n         },\r\n         car:{},\r\n      }\r\n   },   \r\n   async created() {\r\n      \r\n      this.updSearch();\r\n   },\r\n   methods: {\r\n      getPoleInfo(index) {\r\n         \r\n         this.poles.map((e, i) => {            \r\n            e.active = (index === i) ? true : false\r\n         })         \r\n      },\r\n      async updSearch() {\r\n         //console.log(localStorage.getItem('searchform'))\r\n         const params = JSON.parse(localStorage.getItem('searchform'))\r\n         this.params = this.product_list\r\n\r\n         switch(params.type){\r\n            case 'car':\r\n               this.product = 'car'\r\n               this.country = 'Cuba'\r\n               this.product_list = await this.searchCar();\r\n               break;\r\n            case 'hotel':\r\n               this.product = 'hotel'\r\n               this.country = 'Cuba'\r\n               this.product_list = await this.searchHotel();\r\n               break;\r\n         }\r\n\r\n         if(this.product_list.length === 0)\r\n         this.$swal({\r\n               title: 'No hay elementos',\r\n               text: 'No hay elementos en esta busqueda',\r\n               icon: 'warning',                \r\n               confirmButtonColor: '#3085d6',                            \r\n            }) \r\n\r\n      },\r\n      async searchCar() {\r\n         const params = JSON.parse(localStorage.getItem('searchform'))\r\n                  \r\n         //Format Params                  \r\n         if(params) {\r\n            this.search_params = {\r\n               \"car_category_id\": params.car_category_id,\r\n               \"car_engine_id\": params.car_engine_id,\r\n               // \"car_pickup_place_id\": params.car_pickup_place_id,\t\r\n               \"date_from\": params.date_start,\r\n               \"date_to\": params.date_out,\r\n            }\r\n         }\r\n\r\n         // Searching by params\r\n         this.search_params.auth = 'bearer'\r\n         //console.log(this.search_params)\r\n         const product_list = await Authorization.checkLogin('/search/car/prices', this.search_params, 'post').then(el => {\r\n            if(el.data)\r\n               return el.data\r\n            else{\r\n               console.log(el)                    \r\n               throw 'Error'\r\n            }\r\n         })\r\n         .catch(error => {\r\n               this.$swal({\r\n               title: 'Error',\r\n               text: error||'Ocurrio un error!!!',\r\n               icon: 'error',                \r\n               confirmButtonColor: '#3085d6',                            \r\n            }) \r\n         })\r\n         // console.log(product_list)\r\n         return product_list;\r\n      },\r\n      async searchHotel() {\r\n         const params = JSON.parse(localStorage.getItem('searchform'))\r\n         \r\n         \r\n         //Format Params                  \r\n         if(params) {            \r\n            this.search_params = {\r\n               hotel_id: params.hotel,\t\r\n               \"date_from\": params.dateRange[0],\r\n               \"date_to\": params.dateRange[1],\r\n               \"pole_id\": params.destination,\r\n               \"rooms\": params.rooms,\r\n               \"stars\": params.stars\r\n            }\r\n         }\r\n\r\n         // Searching by params\r\n         this.search_params.auth = 'bearer'\r\n         const product_list = await Authorization.checkLogin('/search/hotels/prices', this.search_params, 'post').then(el => {\r\n            if(el.data)\r\n               return el.data\r\n            else{\r\n               console.log(el)\r\n               throw 'Error'\r\n            }\r\n\r\n            /* if(e) {                             \r\n               this.product_list = e.data\r\n               \r\n               this.product_list.map(p => {                  \r\n                  p.segment = {\r\n                        name: \"playa\",\r\n                        img: require(\"@/assets/img/segment/playa.png\")\r\n                     }\r\n               })\r\n               // console.log(this.product_list)\r\n            } */         \r\n         })\r\n         .catch(error => {\r\n               this.$swal({\r\n               title: 'Error',\r\n               text: error||'Ocurrio un error!!!',\r\n               icon: 'error',                \r\n               confirmButtonColor: '#3085d6',                            \r\n            }) \r\n         })\r\n         // console.log(product_list)\r\n         return product_list;\r\n      }\r\n   }\r\n   \r\n}\r\n</script>\r\n<style scoped>\r\n   article {\r\n      grid-template-rows: auto auto;\r\n      grid-template-columns: auto;\r\n   }\r\n\r\n   @media screen and (min-width: 768px) {\r\n      article {\r\n         grid-template-columns: 27% auto;  \r\n         grid-template-rows: auto;  \r\n      }      \r\n   }\r\n</style>","<template>\r\n   <component \r\n      :is=\"componentId\"\r\n      :search=\"search\"\r\n      v-for=\"(item, index) in $attrs.item\" :key=\"index\"\r\n      :item=\"item\" :index=\"index\"      \r\n      :params=\"$attrs.params\"\r\n   ></component> \r\n</template>\r\n<script>\r\n\r\nimport CarListTemplate from './CarListTemplate.vue'\r\nimport HoteListTemplate from './HotelListTemplate.vue'\r\n\r\n\r\nexport default {\r\n   name: 'ListTemplateWrapper',\r\n   components: {\r\n      CarListTemplate,\r\n      HoteListTemplate,\r\n   },\r\n   props:{\r\n      search: {\r\n         type: Boolean,\r\n         default: false,\r\n      },\r\n   },\r\n   data() {\r\n      return {\r\n         // product: '',\r\n         country: '',\r\n         product_list: [],\r\n         params: {},\r\n         hotel:{\r\n            poles: [],\r\n            pole: ''\r\n         },\r\n         car:{\r\n         }\r\n      }      \r\n   },\r\n   created(){\r\n      // console.log(this.$attrs)\r\n   },\r\n   computed: {\r\n      componentId() {\r\n       switch (this.$attrs.product) {\r\n         case 'car':\r\n           return 'CarListTemplate';\r\n         case 'hotel':\r\n           return 'HoteListTemplate';\r\n         default:\r\n           // manejar cualquier otro caso, posiblemente mostrar un error o redirigir\r\n           return null;\r\n       }\r\n     }\r\n   },\r\n   methods: {\r\n\r\n   }\r\n}\r\n</script>\r\n<style scoped>\r\n</style>\r\n","import { render } from \"./ListTemplateWrapper.vue?vue&type=template&id=ba2e7b34\"\nimport script from \"./ListTemplateWrapper.vue?vue&type=script&lang=js\"\nexport * from \"./ListTemplateWrapper.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\Pool\\\\Freelance\\\\iristtravel\\\\others\\\\iristravel_v3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./SearchResult.vue?vue&type=template&id=32e1a29e&scoped=true\"\nimport script from \"./SearchResult.vue?vue&type=script&lang=js\"\nexport * from \"./SearchResult.vue?vue&type=script&lang=js\"\n\nimport \"./SearchResult.vue?vue&type=style&index=0&id=32e1a29e&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\Pool\\\\Freelance\\\\iristtravel\\\\others\\\\iristravel_v3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-32e1a29e\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_searcher","onUpdparams","$options","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_component_list_template_wrapper","product","$data","item","search","not_found","params","rooms","product_list","_Fragment","_ctx","index","_createBlock","_resolveDynamicComponent","$props","key","name","components","CarListTemplate","HoteListTemplate","props","type","Boolean","default","data","country","hotel","poles","pole","car","created","computed","componentId","this","$attrs","methods","__exports__","Searcher","ListTemplateWrapper","search_params","async","updSearch","getPoleInfo","map","e","i","active","JSON","parse","localStorage","getItem","searchCar","searchHotel","length","$swal","title","text","icon","confirmButtonColor","car_category_id","car_engine_id","date_start","date_out","auth","Authorization","then","el","console","log","catch","error","hotel_id","dateRange","destination","stars","render"],"sourceRoot":""}